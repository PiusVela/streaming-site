<!DOCTYPE html>
<html>
<head><title>Fetch Videos</title></head>
<body>
<button onclick="fetchVideos()">Fetch FIFA Videos</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const app = initializeApp({
  apiKey: "AIzaSyAOjgaaHwo4P7MD7oyLQtw1azLnGqcPi1o",
  authDomain: "streamingsite-d48ac.firebaseapp.com",
  projectId: "streamingsite-d48ac"
});

const db = getFirestore(app);
const API_KEY = "YOUR_YOUTUBE_API_KEY";
const CHANNEL_ID = "UCpcTrCXblq78GZrTUTLWeBw"; // FIFA

window.fetchVideos = async () => {
  const res = await fetch(
    `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&maxResults=5&order=date&key=${API_KEY}`
  );
  const data = await res.json();

  for (let v of data.items) {
    await addDoc(collection(db, "football"), {
      title: v.snippet.title,
      videoId: v.id.videoId
    });
  }
  alert("Videos fetched");
};
</script>
</body>
</html>
