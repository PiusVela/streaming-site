<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free Movies & Football</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { margin:0; font-family:Arial; background:#0b0b0b; color:#fff }
header { background:#111; padding:15px; text-align:center }
button { padding:10px 18px; margin:5px; background:#e50914; border:none; color:white; cursor:pointer }
.grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:15px; padding:20px }
iframe { width:100%; height:200px; border-radius:8px }
input { padding:10px; width:90%; margin:10px auto; display:block }
footer { text-align:center; padding:10px; font-size:13px; color:#aaa }
</style>
</head>

<body>

<header>
<h2>ðŸŽ¬âš½ Free Movies & Football</h2>
<button onclick="loadCategory('movies')">Movies</button>
<button onclick="loadCategory('football')">Football</button>
<input id="search" placeholder="Search..." onkeyup="searchContent()">
</header>

<div id="content" class="grid"></div>

<footer>
Aggregates ONLY free & official content. No hosting.
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

/* ðŸ”¥ YOUR FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyAOjgaaHwo4P7MD7oyLQtw1azLnGqcPi1o",
  authDomain: "streamingsite-d48ac.firebaseapp.com",
  projectId: "streamingsite-d48ac",
  storageBucket: "streamingsite-d48ac.firebasestorage.app",
  messagingSenderId: "850460367162",
  appId: "1:850460367162:web:a88fa2fad2aed7942a9803"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

let allData = [];

window.loadCategory = async function(type) {
    const snapshot = await getDocs(collection(db, type));
    allData = snapshot.docs.map(doc => doc.data());
    render(allData);
}

function render(items) {
    document.getElementById("content").innerHTML = items.map(i => `
        <div>
            <h4>${i.title}</h4>
            <iframe src="https://www.youtube.com/embed/${i.videoId}" allowfullscreen></iframe>
        </div>
    `).join("");
}

window.searchContent = function() {
    const q = document.getElementById("search").value.toLowerCase();
    render(allData.filter(i => i.title.toLowerCase().includes(q)));
}

/* Load movies by default */
loadCategory('movies');

/* Auto refresh every 30 minutes */
setInterval(() => loadCategory('movies'), 1800000);
</script>

</body>
</html>
